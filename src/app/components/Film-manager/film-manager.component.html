<div class="container">
  <div
    class="m-auto text-center pt-5 font-weight-bold position-relative large text-danger"
  >
    <a
      (click)="goBack()"
      class="btn button-transparent text-danger position-absolute"
      style="top: 1%; left: 1%"
    >
      < Indietro
    </a>
    GESTISCI IL FILM - AGGIUNGI O MODIFICA
  </div>
  <hr class="text-info" />
  <div class="row">
    <div class="col-md-4 d-flex justify-content-center align-items-start">
      <img
        [src]="
          film.cover_url ||
          'https://raw.githubusercontent.com/julien-gargot/images-placeholder/master/placeholder-portrait.png'
        "
        alt=""
        srcset=""
        class="img-thumbnail mb-3"
      />
    </div>
    <form class="col-md-8">
      <div class="form-group row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <mat-label>Title</mat-label>
            <input
              matInput
              [(ngModel)]="film.title"
              name="title"
              placeholder="es. Inception"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <mat-label>Director</mat-label>
            <input
              matInput
              [(ngModel)]="film.director"
              name="director"
              placeholder="es. Martin Scorsese"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <mat-label>Film duration</mat-label>
            <input
              matInput
              [(ngModel)]="film.duration"
              name="duration"
              placeholder="es. 01:29:50"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <mat-label>Release Year</mat-label>
            <input
              matInput
              type="number"
              [(ngModel)]="film.release_year"
              name="release_year"
              placeholder="es. 1999"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <mat-label>Film stars</mat-label>
            <input
              matInput
              [(ngModel)]="film.stars"
              name="stars"
              type="number"
              min="0"
              max="5"
              placeholder="from 0 to 5"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <mat-label>Cover</mat-label>
            <input
              matInput
              [(ngModel)]="film.cover_url"
              name="cover_url"
              placeholder="Put the link of film's cover here..."
            />
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <mat-label>Film description</mat-label>
            <textarea
              matInput
              [(ngModel)]="film.description"
              name="description"
              placeholder="Write description of the film here..."
            ></textarea>
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-12">
          <mat-form-field class="w-100">
            <mat-label>Your vote</mat-label>
            <input
              matInput
              [(ngModel)]="film.vote"
              name="vote"
              placeholder="From 0 to 5"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="form-group row">
        <label for="actors" class="col-sm-2 col-form-label">Actors</label>
        <div class="col-sm-10 d-flex flex-wrap">
          <span
            *ngFor="let actor of actors"
            class="border rounded d-inline-block label m-1"
            [ngClass]="actor.selected ? 'btn-light' : 'btn-outline-light'"
            (click)="actorSelectHandler(actor.id)"
            [attr.id]="actor.id"
          >
            {{ actor.firstname }} {{ actor.lastname }}
          </span>
        </div>
      </div>
      <div class="form-group row">
        <label for="genres" class="col-sm-2 col-form-label">Genres</label>
        <div class="col-sm-10 d-flex flex-wrap">
          <span
            *ngFor="let genre of genres"
            class="border rounded d-inline-block label m-1"
            [ngClass]="genre.selected ? 'btn-light' : 'btn-outline-light'"
            (click)="genreSelectHandler(genre.name)"
            [attr.id]="genre.name"
          >
            {{ genre.name }}
          </span>
        </div>
      </div>
      <div class="form-group row justify-content-around">
        <div
          class="col-sm-6 mt-2 d-flex justify-content-center"
          *ngIf="!modify"
        >
          <button type="submit" class="w-75 btn btn-info" (click)="add()">
            AGGIUNGI
          </button>
        </div>
        <div class="col-sm-6 mt-2 d-flex justify-content-center" *ngIf="modify">
          <button type="submit" class="w-75 btn btn-warning" (click)="edit()">
            MODIFICA
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
